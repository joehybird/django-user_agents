language: python
dist: xenial
sudo: true
python:
    - "2.7"
    - "3.4"
    - "3.5"
    - "3.6"
    - "3.7"
env:
    - DJANGO="django>=1.8,<1.9"
    - DJANGO="django>=1.9,<1.10"
    - DJANGO="django>=1.10,<1.11"
    - DJANGO="django>=1.11,<2.0"
    - DJANGO="django>=2.0,<2.1"
    - DJANGO="django>=2.1,<2.2"
install:
    - "pip install user-agents"
    - "pip install ${DJANGO}"
script:
    - "python manage.py test"
matrix:
  exclude:
    - python: "2.7"
      env: DJANGO="django>=2.0,<2.1"
    - python: "2.7"
      env: DJANGO="django>=2.1,<2.2"
    - python: "3.4"
      env: DJANGO="django>=2.1,<2.2"
    - python: "3.6"
      env: DJANGO="django>=1.8,<1.9"
    - python: "3.6"
      env: DJANGO="django>=1.9,<1.10"
    - python: "3.6"
      env: DJANGO="django>=1.10,<1.11"
    - python: "3.7"
      env: DJANGO="django>=1.8,<1.9"
    - python: "3.7"
      env: DJANGO="django>=1.9,<1.10"
    - python: "3.7"
      env: DJANGO="django>=1.10,<1.11"
    - python: "3.7"
      env: DJANGO="django>=1.11,<2.0"
  include:
    - python: "pypy"
      env: DJANGO="django>=1.8,<1.9"
      dist: trusty
    - python: "pypy"
      env: DJANGO="django>=1.9,<1.10"
      dist: trusty
    - python: "pypy"
      env: DJANGO="django>=1.10,<1.11"
      dist: trusty
    - python: "pypy"
      env: DJANGO="django>=1.11,<2.0"
      dist: trusty
